{
  "$id": "http://www.perfsonar.net/record-schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "perfSONAR Lookup Service Schema",
  "description": "Schema for common record keys in perfSONAR Lookup Service",
  "definitions": {
    "record": {
      "type": "object",
      "$id": "#record",
      "properties": {
        "type": {
          "description": "record type",
          "type": "string",
          "enum": [
            "host",
            "service",
            "interface",
            "person",
            "psmetadata",
            "pstest"
          ]
        },
        "expires": {
          "description": "IS0 8601 datetime until which record is valid. Record needs to be renewed before expiration",
          "type": "string",
          "format": "date-time"
        },
        "ttl": {
          "description": "ISO 8601 duration. time until which lease was requested by client.",
          "type": "string"
        },
        "state": {
          "description": "state of the record in the LS. Has it been registered or renewed or expired",
          "type": "string",
          "enum": [
            "expired",
            "registered",
            "renewed"
          ]
        },
        "uri": {
          "description": "relative uri to access the record in LS",
          "type": "string",
          "format": "uri-reference"
        },
        "client-uuid": {
          "description": "Client UUID. Generated by client. All records registered by a client will have same client uuid.",
          "type": "string",
          "minLength": 36,
          "maxLength": 36
        }
      },
      "required": [
        "type",
        "expires"
      ]
    },
    "location": {
      "type": "object",
      "$id": "#location",
      "properties": {
        "location-sitename": {
          "description": "site name where this pS node is located",
          "type": "string"
        },
        "location-city": {
          "description": "city name",
          "type": "string"
        },
        "location-region": {
          "description": "state/province/region where the host is located.",
          "type": "string"
        },
        "location-country": {
          "description": "country (ISO 3166 country code - 2 digit)",
          "type": "string",
          "minLength": 2,
          "maxLength": 2
        },
        "location-code": {
          "description": "zip code or postal code",
          "type": "string",
          "minLength": 1
        },
        "location-latitude": {
          "description": "latitude expressed as floating number between -90.00 to 90.00",
          "type": "number",
          "minimum": "-90.00",
          "maximum": "90.00"
        },
        "location-longitude": {
          "description": "longitude expressed as floating number between -180.00 to 180.00",
          "type": "number",
          "minimum": "-180.00",
          "maximum": "180.00"
        }
      },
      "required": [
        "location-city",
        "location-region",
        "location-country",
        "location-latitude",
        "location-longitude"
      ]
    },
    "group": {
      "type": "object",
      "$id": "#group",
      "properties": {
        "group-domains": {
          "description": "list of domains associated with the pS node. Eg: es.net, internet2.edu",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "group-communities": {
          "description": "list of communities the pS node is part of",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  }
}